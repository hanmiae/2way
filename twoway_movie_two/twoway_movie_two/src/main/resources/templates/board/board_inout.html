<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ë¬¸ì˜ê²Œì‹œíŒ Â· ëª©ë¡</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/theme.css}">

    <style>
        .bd-wrap{max-width:1200px;margin:26px auto 70px;padding:0 16px;}
        .bd-hero{display:flex;align-items:flex-end;justify-content:space-between;gap:14px;flex-wrap:wrap;margin:10px 0 14px}
        .bd-hero h1{margin:0;font-size:34px;letter-spacing:-.6px;font-weight:950}
        .bd-hero .sub{color:rgba(244,245,255,.72);font-weight:700;margin-top:6px}

        .glass{
            border-radius:24px;
            border:1px solid rgba(255,255,255,.10);
            background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
            box-shadow: 0 28px 90px rgba(0,0,0,.55);
            backdrop-filter: blur(18px);
            overflow:hidden;
        }
        .bar{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.10)}
        .bar .meta{color:rgba(244,245,255,.78);font-weight:800}
        .btnx{
            border:none;border-radius:14px;padding:10px 12px;font-weight:1000;cursor:pointer;
            display:inline-flex;align-items:center;justify-content:center;gap:8px;
            text-decoration:none;white-space:nowrap;
        }
        .primary{color:#fff;background:linear-gradient(135deg, rgba(255,43,214,.92), rgba(124,92,255,.80));box-shadow:0 18px 55px rgba(255,43,214,.20)}
        .ghost{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.14);color:#fff}

        .table-wrap{padding:16px;}
        table.bd-table{width:100%;border-collapse:separate;border-spacing:0}
        .bd-table thead th{
            text-align:left;padding:12px 12px;color:rgba(244,245,255,.85);font-weight:950;
            border-bottom:1px solid rgba(255,255,255,.10);
            font-size:13px;
        }
        .bd-table tbody td{
            padding:14px 12px;color:#fff;font-weight:800;
            border-bottom:1px solid rgba(255,255,255,.08);
            vertical-align:top;
        }
        .rowlink{color:#fff;text-decoration:none;font-weight:950}
        .rowlink:hover{text-decoration:underline}
        .muted{color:rgba(244,245,255,.70);font-weight:700;font-size:12px;line-height:1.35}
        .badge-pill{
            display:inline-flex;align-items:center;gap:6px;
            padding:6px 10px;border-radius:999px;font-weight:950;font-size:12px;
            border:1px solid rgba(255,255,255,.14);
            background:rgba(255,255,255,.08);
            color:#fff;
        }
        .ok{border-color:rgba(52,199,89,.30);background:rgba(52,199,89,.14)}
        .wait{opacity:.75}

        .tr-hover:hover td{background:rgba(255,255,255,.05)}
        .pager{display:flex;justify-content:center;gap:10px;padding:0 16px 16px}

        .clip2{
            display:-webkit-box;
            -webkit-line-clamp:2;
            -webkit-box-orient:vertical;
            overflow:hidden;
        }
    </style>
</head>

<body>
<div th:replace="~{layouts/top_public :: body}"></div>

<main class="bd-wrap">
    <div class="bd-hero">
        <div>
            <h1 th:text="${title}">ğŸ“‹ ì „ì²´ ë¬¸ì˜ ëª©ë¡</h1>
            <div class="sub">
                ë¶„ë¥˜: <b th:text="${category}">ALL</b>
                Â· í˜ì´ì§€: <b th:text="${page}">1</b> / <span th:text="${totalPage}">1</span>
            </div>
        </div>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
            <a class="btnx ghost" th:href="@{/board_all(page=1)}">ì „ì²´</a>
            <a class="btnx ghost" th:href="@{/board_movie(page=1)}">ğŸ¬ ì˜í™”</a>
            <a class="btnx primary" th:href="@{/board_inputgo}">âœ ë¬¸ì˜ ë“±ë¡</a>
        </div>
    </div>

    <section class="glass">
        <div class="bar">
            <div class="meta">ë¬¸ì˜ ë²ˆí˜¸ë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ë¡œ ì´ë™í•©ë‹ˆë‹¤.</div>
            <div class="meta" style="opacity:.85">
                í˜„ì¬ í˜ì´ì§€ <b th:text="${list != null ? #lists.size(list) : 0}">0</b>ê±´
            </div>
        </div>

        <div class="table-wrap">
            <table class="bd-table">
                <thead>
                <tr>
                    <th style="width:90px">No</th>
                    <th style="width:160px">ì‘ì„±ì</th>
                    <th>ë‚´ìš©</th>
                    <th style="width:140px">ìœ í˜•</th>
                    <th style="width:160px">ì‘ì„±ì¼</th>
                </tr>
                </thead>

                <tbody>
                <tr class="tr-hover" th:each="b : ${list}">
                    <td th:text="${b.bbunho}">1</td>
                    <td th:text="${b.bname}">ì‘ì„±ì</td>

                    <td>
                        <a class="rowlink" th:href="@{/board_detail(bbunho=${b.bbunho})}">
                            ë¬¸ì˜ #<span th:text="${b.bbunho}">1</span>
                        </a>

                        <div class="muted clip2" th:text="${b.bmemo}">ë¬¸ì˜ ë‚´ìš©</div>

                        <div style="margin-top:8px">
                            <span class="badge-pill ok" th:if="${b.breply != null and b.breply != ''}">âœ… ë‹µë³€ì™„ë£Œ</span>
                            <span class="badge-pill wait" th:if="${b.breply == null or b.breply == ''}">â³ ëŒ€ê¸°ì¤‘</span>
                        </div>
                    </td>

                    <td>
                        <span class="badge-pill" th:text="${b.bcategory}">MOVIE</span>
                    </td>
                    <td th:text="${#dates.format(b.bdate, 'yyyy-MM-dd')}">2026-01-15</td>
                </tr>

                <tr th:if="${list == null or #lists.isEmpty(list)}">
                    <td colspan="5" style="padding:22px">
                        <div class="muted" style="font-weight:950;font-size:14px">ë“±ë¡ëœ ë¬¸ì˜ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
                        <div class="muted">ì˜¤ë¥¸ìª½ <b>ë¬¸ì˜ ë“±ë¡</b>ìœ¼ë¡œ ì²« ê¸€ì„ ì‘ì„±í•´ë³´ì„¸ìš”.</div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="pager">
            <a class="btnx ghost"
               th:if="${page > 1}"
               th:href="${category=='ALL'} ? @{/board_all(page=${page-1})}
                 : (${category=='MOVIE'} ? @{/board_movie(page=${page-1})}
                 : @{/board_home(page=${page-1})})">ì´ì „</a>

            <a class="btnx ghost"
               th:if="${page < totalPage}"
               th:href="${category=='ALL'} ? @{/board_all(page=${page+1})}
                 : (${category=='MOVIE'} ? @{/board_movie(page=${page+1})}
                 : @{/board_home(page=${page+1})})">ë‹¤ìŒ</a>
        </div>
    </section>
</main>

<div th:replace="~{fragments/footer :: footer}"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
