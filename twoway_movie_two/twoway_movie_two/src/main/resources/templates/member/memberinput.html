<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8" />
    <title>2WAY CINEMA · 회원가입</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/theme.css}">

    <style>
        /* ✅ 이 페이지에서만 적용 (전역 오염 방지) */
        .auth{max-width:1200px;margin:26px auto 0;padding:0 16px;}
        .auth-hero{
          display:flex;align-items:flex-end;justify-content:space-between;gap:16px;flex-wrap:wrap;
          margin:14px 0 14px;
        }
        .auth-title{display:flex;flex-direction:column;gap:6px}
        .auth-title h1{margin:0;font-size:38px;letter-spacing:-.8px;font-weight:950}
        .auth-title .sub{color:rgba(244,245,255,.72);font-weight:700}
        .auth-pill{
          display:inline-flex;align-items:center;gap:8px;
          padding:8px 12px;border-radius:999px;
          border:1px solid rgba(255,43,214,.28);
          background:rgba(255,43,214,.10);
          font-weight:950;
        }

        .auth-card{
          border-radius:28px;
          border:1px solid rgba(255,255,255,.10);
          background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.04));
          box-shadow: 0 28px 90px rgba(0,0,0,.55);
          backdrop-filter: blur(18px);
          overflow:hidden;
        }

        .auth-body{padding:22px;}
        .auth-grid{display:grid;grid-template-columns: 1.1fr .9fr;gap:16px;}
        @media (max-width: 992px){ .auth-grid{grid-template-columns:1fr;} }

        /* ✅ 폼 패널(밝은 글래스) */
        .panel{
          background: rgba(255,255,255,.92);
          border:1px solid rgba(0,0,0,.08);
          border-radius:22px;
          padding:18px;
          color:#0b0b12;
          box-shadow: 0 12px 40px rgba(0,0,0,.10);
        }
        .panel-hd{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;flex-wrap:wrap;margin-bottom:10px}
        .panel-hd h2{margin:0;font-size:22px;font-weight:950;letter-spacing:-.3px}
        .panel-hd .hint{font-size:12px;color:rgba(0,0,0,.55);font-weight:800}

        /* ✅ 입력 UI */
        .field{display:flex;flex-direction:column;gap:7px;margin-bottom:12px}
        .lab{font-size:12px;color:rgba(0,0,0,.62);font-weight:900}
        .inp{
          height:46px;border-radius:14px;border:1px solid rgba(0,0,0,.16);
          padding:0 14px;background:#fff;outline:none;font-weight:800;
        }
        .inp:focus{border-color:rgba(255,43,214,.55); box-shadow:0 0 0 4px rgba(255,43,214,.14)}
        .err{font-size:12px;color:#d0002d;font-weight:800;margin-top:4px}

        /* ✅ 액션 버튼 */
        .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
        .a-btn{
          border:none;border-radius:14px;padding:12px 14px;font-weight:1000;cursor:pointer;
          display:inline-flex;align-items:center;justify-content:center;gap:10px;
        }
        .a-primary{
          color:#fff;
          background: linear-gradient(135deg, rgba(255,43,214,.92), rgba(124,92,255,.80));
          box-shadow: 0 18px 55px rgba(255,43,214,.22);
        }
        .a-primary:hover{transform:translateY(-1px)}
        .a-ghost{
          background: rgba(0,0,0,.04);
          border:1px solid rgba(0,0,0,.10);
          color:#111;
        }

        /* ✅ 우측 안내/혜택 카드 */
        .side{display:flex;flex-direction:column;gap:12px}
        .side-card{
          padding:16px;border-radius:22px;border:1px solid rgba(255,255,255,.10);
          background: rgba(255,255,255,.06);
        }
        .side-card h3{margin:0 0 8px;font-size:15px;font-weight:950}
        .side-card p{margin:0;color:rgba(244,245,255,.70);line-height:1.55;font-weight:650}
        .check{display:flex;gap:10px;align-items:flex-start;margin-top:10px}
        .dot{
          width:34px;height:34px;border-radius:14px;
          border:1px solid rgba(255,43,214,.28);
          background:rgba(255,43,214,.10);
          display:flex;align-items:center;justify-content:center;
          font-weight:1000;
        }
        .mini{font-size:12px;color:rgba(244,245,255,.60);font-weight:700;margin-top:8px}
    </style>
</head>

<body>
<div th:replace="~{fragments/header :: header}"></div>


<main class="auth">
    <div class="auth-hero">
        <div class="auth-title">
            <h1>회원가입</h1>
            <div class="sub">2WAY CINEMA 서비스를 이용하기 위한 계정을 생성합니다.</div>
        </div>
        <div class="auth-pill">✨ Movie CRUD + Q&amp;A + Smart Mobility</div>
    </div>

    <section class="auth-card">
        <div class="auth-body">
            <div class="auth-grid">

                <!-- LEFT: FORM -->
                <div class="panel">
                    <div class="panel-hd">
                        <div>
                            <h2>가입 정보 입력</h2>
                            <div class="hint">* 모든 항목 필수 (데모 기준)</div>
                        </div>
                        <a class="a-btn a-ghost" th:href="@{/login}">로그인</a>
                    </div>

                    <form th:action="@{/memberinputsave}" method="post" th:object="${memberDTO}">
                        <div class="field">
                            <div class="lab">아이디</div>
                            <input class="inp" type="text" th:field="*{userid}" placeholder="예) user01" required>
                            <div class="err" th:if="${#fields.hasErrors('userid')}" th:errors="*{userid}"></div>
                        </div>

                        <div class="field">
                            <div class="lab">비밀번호</div>
                            <input class="inp" type="password" th:field="*{userpw}" placeholder="비밀번호 입력" required>
                            <div class="err" th:if="${#fields.hasErrors('userpw')}" th:errors="*{userpw}"></div>
                        </div>

                        <div class="field">
                            <div class="lab">이름</div>
                            <input class="inp" type="text" th:field="*{username}" placeholder="예) 홍길동" required>
                            <div class="err" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>
                        </div>

                        <div class="field">
                            <div class="lab">연락처</div>
                            <input class="inp" type="text" th:field="*{usertell}" placeholder="예) 010-1234-5678" required>
                            <div class="err" th:if="${#fields.hasErrors('usertell')}" th:errors="*{usertell}"></div>
                        </div>

                        <div class="actions">
                            <button class="a-btn a-primary" type="submit">가입하기</button>
                            <a class="a-btn a-ghost" th:href="@{/}">메인</a>
                        </div>
                    </form>
                </div>

                <!-- RIGHT: INFO -->
                <div class="side">
                    <div class="side-card">
                        <h3>가입 안내</h3>
                        <p>
                            기본 권한은 <b>ROLE_USER</b>로 저장됩니다.<br>
                            관리자 메뉴는 “아이디가 ADMIN”이라서 뜨는 것이 아니라<br>
                            <b>권한(role)이 ROLE_ADMIN</b>일 때만 표시됩니다.
                        </p>
                        <div class="mini">* 현재 구조에서 “ADMIN”으로 가입해도 관리자가 아닙니다.</div>
                    </div>

                    <div class="side-card">
                        <h3>가입하면 가능한 것</h3>

                        <div class="check">
                            <div class="dot">1</div>
                            <div>
                                <p><b>문의게시판(Q&amp;A)</b>에 글 등록/조회</p>
                                <div class="mini">프로젝트 핵심 기능 흐름을 체험할 수 있어요.</div>
                            </div>
                        </div>

                        <div class="check">
                            <div class="dot">2</div>
                            <div>
                                <p><b>Smart Mobility</b> 기능을 빠르게 체험</p>
                                <div class="mini">주차/오시는길+, 주차요금정산 시나리오</div>
                            </div>
                        </div>

                        <div class="check">
                            <div class="dot">3</div>
                            <div>
                                <p><b>관리자(ROLE_ADMIN)</b>는 회원 목록/검색 접근</p>
                                <div class="mini">권한 기반 화면 분기 구현 포인트</div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </section>
</main>

<div th:replace="~{fragments/footer :: footer}"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
