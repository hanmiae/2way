<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>2WAY CINEMA Â· ì˜í™” ëª©ë¡</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/theme.css}">

    <style>
        .mv-wrap{max-width:1200px;margin:26px auto 70px;padding:0 16px;}
        .mv-hero{display:flex;align-items:flex-end;justify-content:space-between;gap:14px;flex-wrap:wrap;margin:10px 0 14px}
        .mv-hero h1{margin:0;font-size:34px;letter-spacing:-.6px;font-weight:950}
        .mv-hero .sub{color:rgba(244,245,255,.72);font-weight:700;margin-top:6px}

        .glass{
          border-radius:24px;
          border:1px solid rgba(255,255,255,.10);
          background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
          box-shadow: 0 28px 90px rgba(0,0,0,.55);
          backdrop-filter: blur(18px);
          overflow:hidden;
        }
        .bar{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.10)}
        .bar .meta{color:rgba(244,245,255,.72);font-weight:700}
        .btnx{
          border:none;border-radius:14px;padding:10px 12px;font-weight:1000;cursor:pointer;
          display:inline-flex;align-items:center;justify-content:center;gap:8px;
          text-decoration:none;
        }
        .primary{color:#fff;background:linear-gradient(135deg, rgba(255,43,214,.92), rgba(124,92,255,.80));box-shadow:0 18px 55px rgba(255,43,214,.20)}
        .ghost{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.14);color:#fff}

        .grid{padding:16px;display:grid;grid-template-columns:repeat(4,1fr);gap:14px}
        @media (max-width: 1200px){ .grid{grid-template-columns:repeat(3,1fr);} }
        @media (max-width: 860px){ .grid{grid-template-columns:repeat(2,1fr);} }
        @media (max-width: 520px){ .grid{grid-template-columns:1fr;} }

        .cardx{
          border-radius:20px;
          border:1px solid rgba(255,255,255,.10);
          background: rgba(0,0,0,.18);
          overflow:hidden;
          transition: transform .18s ease, box-shadow .18s ease;
        }
        .cardx:hover{transform: translateY(-2px); box-shadow: 0 18px 55px rgba(0,0,0,.45);}
        .poster{aspect-ratio:2/3;background:rgba(0,0,0,.35);overflow:hidden}
        .poster img{width:100%;height:100%;object-fit:cover;display:block}
        .body{padding:12px}
        .title{margin:0;font-weight:950;letter-spacing:-.3px;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
        .sub{margin-top:6px;color:rgba(244,245,255,.70);font-weight:700;font-size:12px}
        .chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
        .chip{padding:6px 10px;border-radius:999px;font-weight:900;font-size:12px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.08);color:#fff}
        .chip2{border-color:rgba(0,229,255,.22);background:rgba(0,229,255,.10)}
        .chip3{border-color:rgba(255,43,214,.22);background:rgba(255,43,214,.10)}

        .admin{display:flex;gap:8px;margin-top:10px}
        .admin a{flex:1}

        .pager{display:flex;justify-content:center;gap:10px;padding:0 16px 16px}
    </style>
</head>

<body>
<div th:replace="~{fragments/footer :: footer}"></div>

<div th:replace="~{layouts/top_public :: body}"></div>

<main class="mv-wrap">
    <div class="mv-hero">
        <div>
            <h1>ì˜í™” ëª©ë¡</h1>
            <div class="sub">í˜ì´ì§€: <b th:text="${nowpage}">1</b> / <span th:text="${totalPage}">1</span></div>
        </div>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
            <a class="btnx primary" th:href="@{/mv_inputgo}">â• ë“±ë¡(ADMIN)</a>
            <a class="btnx ghost" th:href="@{/mv_searchgo}">ğŸ” ê²€ìƒ‰</a>
        </div>
    </div>

    <section class="glass">
        <div class="bar">
            <div class="meta">í¬ìŠ¤í„°ë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ë¡œ ì´ë™í•©ë‹ˆë‹¤.</div>
        </div>

        <div class="grid">
            <article class="cardx" th:each="m : ${list}">
                <a th:href="@{/detail(number=${m.mbunho})}" style="text-decoration:none;display:block">
                    <div class="poster">
                        <img th:src="@{'/upload/' + ${m.mimage}}" alt="poster">
                    </div>
                    <div class="body">
                        <h3 class="title" th:text="${m.mtitle}">TITLE</h3>
                        <div class="sub">ë“±ë¡ì¼: <span th:text="${m.mdate}">2026-01-15</span></div>

                        <div class="chips">
                            <span class="chip chip3" th:text="${m.mprice} + 'ì›'">0ì›</span>
                            <span class="chip chip2">ì¡°íšŒ <span th:text="${m.mreadcount}">0</span></span>
                            <span class="chip">#<span th:text="${m.mbunho}">0</span></span>
                        </div>
                    </div>
                </a>

                <div class="body admin">
                    <a class="btnx ghost" th:href="@{/update(number=${m.mbunho})}">ìˆ˜ì •</a>
                    <a class="btnx primary" th:href="@{/delete(number=${m.mbunho}, delimage=${m.mimage})}">ì‚­ì œ</a>
                </div>
            </article>
        </div>

        <div class="pager">
            <a class="btnx ghost"
               th:if="${nowpage > 1}"
               th:href="@{/mv_outgo(page=${nowpage-2})}">ì´ì „</a>

            <a class="btnx ghost"
               th:if="${nowpage < totalPage}"
               th:href="@{/mv_outgo(page=${nowpage})}">ë‹¤ìŒ</a>
        </div>
    </section>
</main>

<div th:replace="~{fragments/footer :: footer}"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
